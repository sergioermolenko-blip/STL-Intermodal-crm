<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STL Intermodal CRM - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üöö STL CRM</h2>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-btn active" data-section="orders">
                    <span class="nav-icon">üì¶</span>
                    <span class="nav-text">–ó–∞–∫–∞–∑—ã</span>
                </button>
                <button class="nav-btn" data-section="clients">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-text">–ö–ª–∏–µ–Ω—Ç—ã</span>
                </button>
                <button class="nav-btn" data-section="carriers">
                    <span class="nav-icon">üöõ</span>
                    <span class="nav-text">–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Orders Section -->
            <section id="orders-section" class="content-section">
                <header class="section-header">
                    <h1>üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h1>
                    <p class="section-subtitle">–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ø–µ—Ä–µ–≤–æ–∑–∫—É</p>
                </header>

                <!-- Order Form -->
                <div class="card">
                    <h2>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞</h2>

                    <form id="orderForm" class="order-form">
                        <!-- –ú–∞—Ä—à—Ä—É—Ç -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="route_from">–û—Ç–∫—É–¥–∞ (–ø—É–Ω–∫—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è)</label>
                                <input type="text" id="route_from" name="route_from" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="route_to">–ö—É–¥–∞ (–ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)</label>
                                <input type="text" id="route_to" name="route_to" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
                                    required>
                            </div>
                        </div>

                        <!-- –ì—Ä—É–∑ -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cargo_name">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥—Ä—É–∑–∞</label>
                                <input type="text" id="cargo_name" name="cargo_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="cargo_weight">–í–µ—Å (–∫–≥)</label>
                                <input type="number" id="cargo_weight" name="cargo_weight" placeholder="1000" min="0"
                                    step="0.01" required>
                            </div>
                        </div>

                        <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clientName">–ö–ª–∏–µ–Ω—Ç</label>
                                <input type="text" id="clientName" name="clientName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –û–û–û –†–æ–º–∞—à–∫–∞"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="carrierName">–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</label>
                                <input type="text" id="carrierName" name="carrierName"
                                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–ü –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç" required>
                            </div>
                        </div>

                        <!-- –§–∏–Ω–∞–Ω—Å—ã -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clientRate">–°—Ç–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (‚ÇΩ)</label>
                                <input type="number" id="clientRate" name="clientRate" placeholder="50000" min="0"
                                    step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="carrierRate">–°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞ (‚ÇΩ)</label>
                                <input type="number" id="carrierRate" name="carrierRate" placeholder="40000" min="0"
                                    step="0.01" required>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">‚úì –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</button>
                    </form>
                </div>

                <!-- Message -->
                <div id="message" class="message hidden"></div>

                <!-- Orders List -->
                <div class="card">
                    <h2>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h2>
                    <div id="ordersList" class="orders-list">
                        <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</p>
                    </div>
                </div>
            </section>

            <!-- Clients Section -->
            <section id="clients-section" class="content-section hidden">
                <header class="section-header">
                    <h1>üë• –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤</h1>
                    <p class="section-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
                </header>

                <div class="card">
                    <div class="card-header-with-button">
                        <h2>–°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
                        <button class="btn btn-primary" onclick="openAddClient()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</button>
                    </div>
                    <div class="table-container">
                        <table id="clientsTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th>–ò–ù–ù</th>
                                    <th>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</th>
                                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                    <th>Email</th>
                                    <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="clientsTableBody">
                                <tr>
                                    <td colspan="7" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Carriers Section -->
            <section id="carriers-section" class="content-section hidden">
                <header class="section-header">
                    <h1>üöõ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤</h1>
                    <p class="section-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤</p>
                </header>

                <div class="card">
                    <div class="card-header-with-button">
                        <h2>–°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤</h2>
                        <button class="btn btn-primary" onclick="openAddCarrier()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</button>
                    </div>
                    <div class="table-container">
                        <table id="carriersTable" class="data-table">
                            <thead>
                                <tr>
                                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th>–í–æ–¥–∏—Ç–µ–ª—å</th>
                                    <th>–ù–æ–º–µ—Ä –≥—Ä—É–∑–æ–≤–∏–∫–∞</th>
                                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                    <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="carriersTableBody">
                                <tr>
                                    <td colspan="6" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Universal Edit Modal -->
    <div id="editModal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                <button class="modal-close" onclick="closeEditModal()">√ó</button>
            </div>
            <form id="editForm" class="modal-form">
                <input type="hidden" id="editId">
                <input type="hidden" id="editType">

                <div class="form-group">
                    <label for="editName">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="editName" required>
                </div>

                <div class="form-group">
                    <label for="editPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" id="editPhone">
                </div>

                <!-- Client-specific fields -->
                <div id="clientFields" class="hidden">
                    <div class="form-group">
                        <label for="editInn">–ò–ù–ù</label>
                        <input type="text" id="editInn">
                    </div>
                    <div class="form-group">
                        <label for="editContactPerson">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                        <input type="text" id="editContactPerson">
                    </div>
                    <div class="form-group">
                        <label for="editEmail">Email</label>
                        <input type="email" id="editEmail">
                    </div>
                </div>

                <!-- Carrier-specific fields -->
                <div id="carrierFields" class="hidden">
                    <div class="form-group">
                        <label for="editDriverName">–í–æ–¥–∏—Ç–µ–ª—å</label>
                        <input type="text" id="editDriverName">
                    </div>
                    <div class="form-group">
                        <label for="editTruckNumber">–ù–æ–º–µ—Ä –≥—Ä—É–∑–æ–≤–∏–∫–∞</label>
                        <input type="text" id="editTruckNumber">
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/js/app.js" type="module"></script>
</body>

</html>